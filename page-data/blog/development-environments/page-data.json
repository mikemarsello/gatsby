{"componentChunkName":"component---src-templates-blog-template-js","path":"/blog/development-environments","result":{"data":{"markdownRemark":{"html":"<h1>Lando</h1>\n<p>Lando is a fantastic development environment that integrates with Drupal sites hosted on Pantheon using a terminus machine token. You can easily pull the database and files directory from a live site using \"lando pull\". The only downside to using lando is its performance on OSX. This is not lando's fault as it is more related to docker. Lando is plenty fast when run on linux. Provided your hardware can support support the memory footprint of docker containers, lando is a much more configurable solution than using MAMP or a native LAMP stack.</p>\n<h2>Using Lando on a new site</h2>\n<ol start=\"0\">\n<li>in an empty directory <code class=\"language-text\">lando init</code></li>\n<li>enter name, recipe etc.</li>\n<li><code class=\"language-text\">lando start</code></li>\n<li>get codebase by whatever method</li>\n<li><code class=\"language-text\">lando info</code> to get URLs</li>\n<li>go to install page and enter credentials from <code class=\"language-text\">lando info</code>  output</li>\n<li>install as you normally would</li>\n</ol>\n<h2>Using Lando on existing site</h2>\n<ol start=\"0\">\n<li>in site root <code class=\"language-text\">lando init</code></li>\n<li>enter name, recipe etc</li>\n<li><code class=\"language-text\">lando start</code></li>\n<li>import db with <code class=\"language-text\">lando db-import mydb.sql</code></li>\n<li>download files manually and place in /sites/default/files</li>\n<li>\n<p>add the following snippet to local-settings.php so site will use the lando database</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$lando_info = json_decode(getenv(&#39;LANDO_INFO&#39;), TRUE);\n$databases[&#39;default&#39;][&#39;default&#39;] = array(\n&#39;driver&#39; =&gt; &#39;mysql&#39;,\n&#39;database&#39; =&gt; $lando_info[&#39;database&#39;][&#39;creds&#39;][&#39;database&#39;],\n&#39;username&#39; =&gt; $lando_info[&#39;database&#39;][&#39;creds&#39;][&#39;user&#39;],\n&#39;password&#39; =&gt; $lando_info[&#39;database&#39;][&#39;creds&#39;][&#39;password&#39;],\n&#39;host&#39; =&gt; $lando_info[&#39;database&#39;][&#39;internal_connection&#39;][&#39;host&#39;],\n&#39;prefix&#39; =&gt; &#39;&#39;,\n);</code></pre></div>\n</li>\n<li><code class=\"language-text\">lando info</code> for URL and you should be ready</li>\n</ol>\n<h2>Custom Lando commands</h2>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">tooling:\n  cr:\n    service: appserver\n    description: Clear the drupal cache\n    cmd:\n      - /app/scripts/d8-lando-cache-clear.sh</code></pre></div>\n<p>Preface the path to the script with \"app\" so the command can be run from anywhere in the filesystem</p>\n<h2>Add phpmyadmin</h2>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">services:\n  pma:\n    type: phpmyadmin\n    hosts:\n      - database</code></pre></div>\n<h2>Add multiple databases to aid migrations</h2>\n<h2>Final .lando.yml</h2>","frontmatter":{"date":"2018-8-30","path":"/blog/development-environments","title":"dev environments","author":"Mike Marsello","template":"blog","desc":"development environments"}}},"pageContext":{}},"staticQueryHashes":[]}